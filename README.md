# This script is used to check which images are currently used by the pod on k8s node.

```
$ git clone https://github.com/cooloo9871/k8s-imagecheck.git;cd k8s-imagecheck/
```
## You need to run it on the master
```
$ bash imagecheck.sh
Node:m1
gcr.io/k8s-staging-sig-storage/nfsplugin:canary
registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.9.0
registry.k8s.io/sig-storage/livenessprobe:v2.11.0
registry.rancher.com/rancher/hardened-cluster-autoscaler:v1.8.10-build20240124
registry.rancher.com/rancher/hardened-coredns:v1.11.1-build20240123
registry.rancher.com/rancher/hardened-etcd:v3.5.9-k3s1-build20230802
registry.rancher.com/rancher/hardened-kubernetes:v1.27.11-rke2r1-build20240214
registry.rancher.com/rancher/mirrored-cilium-cilium:v1.15.1
registry.rancher.com/rancher/mirrored-prometheus-node-exporter:v1.3.1
registry.rancher.com/rancher/pushprox-client:v0.1.0-rancher2-client
registry.rancher.com/rancher/rancher-agent:v2.8.2
registry.rancher.com/rancher/rke2-cloud-provider:v1.28.2-build20231016

Node:m2
gcr.io/k8s-staging-sig-storage/nfsplugin:canary
registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.9.0
registry.k8s.io/sig-storage/livenessprobe:v2.11.0
registry.rancher.com/rancher/hardened-etcd:v3.5.9-k3s1-build20230802
registry.rancher.com/rancher/hardened-kubernetes:v1.27.11-rke2r1-build20240214
registry.rancher.com/rancher/mirrored-cilium-cilium:v1.15.1
registry.rancher.com/rancher/mirrored-cilium-operator-generic:v1.15.1
registry.rancher.com/rancher/mirrored-prometheus-node-exporter:v1.3.1
registry.rancher.com/rancher/mirrored-sig-storage-snapshot-controller:v6.2.1
registry.rancher.com/rancher/mirrored-sig-storage-snapshot-validation-webhook:v6.2.2
registry.rancher.com/rancher/pushprox-client:v0.1.0-rancher2-client
registry.rancher.com/rancher/rancher-agent:v2.8.2
registry.rancher.com/rancher/rke2-cloud-provider:v1.28.2-build20231016

Node:m3
gcr.io/k8s-staging-sig-storage/nfsplugin:canary
registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.9.0
registry.k8s.io/sig-storage/livenessprobe:v2.11.0
registry.rancher.com/rancher/hardened-coredns:v1.11.1-build20240123
registry.rancher.com/rancher/hardened-etcd:v3.5.9-k3s1-build20230802
registry.rancher.com/rancher/hardened-kubernetes:v1.27.11-rke2r1-build20240214
registry.rancher.com/rancher/klipper-helm:v0.8.2-build20230815
registry.rancher.com/rancher/mirrored-cilium-cilium:v1.15.1
registry.rancher.com/rancher/mirrored-cilium-operator-generic:v1.15.1
registry.rancher.com/rancher/mirrored-prometheus-node-exporter:v1.3.1
registry.rancher.com/rancher/pushprox-client:v0.1.0-rancher2-client
registry.rancher.com/rancher/rke2-cloud-provider:v1.28.2-build20231016
registry.rancher.com/rancher/system-upgrade-controller:v0.13.1

Node:w1
docker.io/rancher/cis-operator:v1.0.12
docker.io/rancher/mirrored-jimmidyson-configmap-reload:v0.8.0
docker.io/rancher/mirrored-longhornio-csi-attacher:v4.2.0
docker.io/rancher/mirrored-longhornio-csi-node-driver-registrar:v2.7.0
docker.io/rancher/mirrored-longhornio-csi-provisioner:v3.4.1
docker.io/rancher/mirrored-longhornio-csi-resizer:v1.7.0
docker.io/rancher/mirrored-longhornio-csi-snapshotter:v6.2.1
docker.io/rancher/mirrored-longhornio-livenessprobe:v2.9.0
docker.io/rancher/mirrored-longhornio-longhorn-engine:v1.5.1
docker.io/rancher/mirrored-longhornio-longhorn-instance-manager:v1.5.1
docker.io/rancher/mirrored-longhornio-longhorn-manager:v1.5.1
docker.io/rancher/mirrored-longhornio-longhorn-ui:v1.5.1
docker.io/rancher/mirrored-messagebird-sachet:0.3.1
docker.io/rancher/mirrored-openpolicyagent-gatekeeper:v3.12.0
gcr.io/k8s-staging-sig-storage/nfsplugin:canary
neuvector/enforcer:5.3.0
neuvector/manager:5.3.0
quay.io/fluentd_elasticsearch/fluentd:v2.8.0
quay.io/metallb/controller:v0.13.11
quay.io/metallb/speaker:v0.13.11
registry.k8s.io/autoscaling/vpa-recommender:0.14.0
registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.9.0
registry.k8s.io/sig-storage/livenessprobe:v2.11.0
registry.rancher.com/rancher/hardened-kubernetes:v1.27.11-rke2r1-build20240214
registry.rancher.com/rancher/mirrored-cilium-cilium:v1.15.1
registry.rancher.com/rancher/mirrored-grafana-grafana:9.1.5
registry.rancher.com/rancher/mirrored-jaegertracing-all-in-one:1.47.0
registry.rancher.com/rancher/mirrored-kiwigrid-k8s-sidecar:1.19.2
registry.rancher.com/rancher/mirrored-kube-state-metrics-kube-state-metrics:v2.6.0
registry.rancher.com/rancher/mirrored-library-nginx:1.24.0-alpine
registry.rancher.com/rancher/mirrored-prometheus-adapter-prometheus-adapter:v0.10.0
registry.rancher.com/rancher/mirrored-prometheus-node-exporter:v1.3.1
registry.rancher.com/rancher/mirrored-prometheus-operator-prometheus-config-reloader:v0.59.1
registry.rancher.com/rancher/mirrored-prometheus-prometheus:v2.38.0
registry.rancher.com/rancher/nginx-ingress-controller:nginx-1.9.3-hardened1
registry.rancher.com/rancher/pushprox-client:v0.1.0-rancher2-client
registry.rancher.com/rancher/pushprox-proxy:v0.1.0-rancher2-proxy

Node:w2
docker.elastic.co/elasticsearch/elasticsearch:8.7.0
docker.elastic.co/kibana/kibana:8.7.0
docker.io/rancher/mirrored-longhornio-csi-node-driver-registrar:v2.7.0
docker.io/rancher/mirrored-longhornio-livenessprobe:v2.9.0
docker.io/rancher/mirrored-longhornio-longhorn-engine:v1.5.1
docker.io/rancher/mirrored-longhornio-longhorn-instance-manager:v1.5.1
docker.io/rancher/mirrored-longhornio-longhorn-manager:v1.5.1
gcr.io/k8s-staging-sig-storage/nfsplugin:canary
neuvector/enforcer:5.3.0
nginx
quay.io/fluentd_elasticsearch/fluentd:v2.8.0
quay.io/metallb/speaker:v0.13.11
registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.9.0
registry.k8s.io/sig-storage/livenessprobe:v2.11.0
registry.rancher.com/rancher/hardened-kubernetes:v1.27.11-rke2r1-build20240214
registry.rancher.com/rancher/klipper-helm:v0.8.2-build20230815
registry.rancher.com/rancher/mirrored-cilium-cilium:v1.15.1
registry.rancher.com/rancher/mirrored-neuvector-updater:latest
registry.rancher.com/rancher/mirrored-prometheus-node-exporter:v1.3.1
registry.rancher.com/rancher/nginx-ingress-controller:nginx-1.9.3-hardened1
registry.rancher.com/rancher/pushprox-client:v0.1.0-rancher2-client
```
